@mixin check-highlight {
  border-color: var(--border-color);
  background-color: var(--background-color);
  outline: {
    width: var(--check-outline-width);
    color: var(--outline-color);
    style: solid;
  };
}

@function replace-color($new-color) {
  @return 'data:image/svg+xml,<svg viewBox="0 0 54 41"><path fill=#{$new-color} d="M52.181 6.222 21.281 39.4c-1.62 1.874-4.541 1.874-6.161 0L1.528 23.861C.353 22.537.48 20.47 1.782 19.306c1.206-1.098 3.048-1.066 4.223 0l15.276 13.827H15.12L47.704 1.667c2.921-2.81 7.272 1.583 4.477 4.555Z"/></svg>';
}

$checkmark: replace-color(red);

.bast-check {
  appearance: none;
  -webkit-appearance: none;
  cursor: pointer;
  outline-offset: 0;
  position: relative;
  display: flex;
  align-content: center;
  justify-content: center;
  background-color: transparent;

  width: var(--check-width);
  height: var(--check-height);
  outline: var(--check-outline-color);
  padding: var(--check-padding);
  transition: var(--check-border-transition);
  border: {
    radius: var(--check-border-radius);
    color: var(--check-border-color);
    width: var(--check-border-width);
    style: solid;
  }

  &::before {
    content: "";
    width: var(--check-mark-width);
    height: var(--check-mark-height);
    opacity: 0;
    transform: scale(0.8);
    position: absolute;
    transition: var(--check-mark-transition);
    background: {
      image: url($checkmark);
      size: contain;
      repeat: no-repeat;
      position: center;
    };
  }

  &:disabled::before {
    background-image: url('../assets/check-disabled.svg');
  }

  &:focus, &:focus-visible {
    --outline-color: var(--check-outline-color-focus);
    --border-color: var(--check-border-color-focus);
    --background-color: var(--check-background-color-focus);
    @include check-highlight;
  }

  &:checked {
    --outline-color: var(--check-outline-color);
    --border-color: var(--check-border-color-checked);
    --background-color: var(--check-background-color-checked);
    @include check-highlight;

    & + &:focus {
      --outline-color: var(--check-outline-color-checked);
    }
  }

  &:disabled {
    cursor: default;
    background-color: var(--check-background-color-disabled);
    border-color: var(--check-border-color-disabled);
    outline: var(--check-outline-color-disabled);
  }

  &:checked::before {
    opacity: 1;
    transform: scale(1);
  }
}
